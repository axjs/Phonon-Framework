<dict>
    <header class="header-bar">
       <div class="left">
            <button class="btn pull-left icon icon-arrow-back" data-navigation="$previous-page"></button>
        </div>
        <div class="center">
            <h1 class="title">Dict { name }</h1>
        </div>
    </header>
    <div class="content">

        <ul class="list">
            <li each="{ name, i in items }">
              <a href="#" onclick={ parent.remove } class="pull-right icon icon-close"></a>
              <a class="padded-list" href="#!pagetwo/{name}">{name}</a>
            </li>
        </ul>

    </div>
    <button class="floating-action icon icon-add active btn-primary" onclick={ add }></button>
    <script>
        var tag = this
        tag.name = ''
        tag.items = []
        
        tag.remove = function (e) {
            console.info('remove', e)
            var arr = store(tag.name) || []
            arr.splice(e.item.i, 1)
            store(tag.name, arr)
        }
        
        tag.add = function () {
            var prompt = phonon.prompt('Enter '+tag.name+' item');
            prompt.on('confirm', function(value) {
              if (!value)  
                return
              var arr = store(tag.name) || []
              arr.push(value)
              store(tag.name, arr)
            } );
            prompt.on('cancel', function() {} );
        }
        
        tag.on('hashchanged', function(name) {
          console.log('dict', name)
          
          store.off(tag.name)
          tag.name = name
 
          store.on(name, function (items) {
            console.info('items', items)
            tag.items = items || []
            tag.update()
          })

          tag.items = store(name) || []
          tag.update()
        })
    </script>
</dict>
