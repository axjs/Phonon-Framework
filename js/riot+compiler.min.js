/* Riot v2.2.4, @license MIT, (c) 2015 Muut Inc. + contributors */
//(function(e,t){"use strict";var n={version:"v2.2.4",settings:{}},r=0,i="riot-",o=i+"tag",u="string",a="object",f="undefined",s="function",c=/^(?:opt(ion|group)|tbody|col|t[rhd])$/,l=["_item","_id","update","root","mount","unmount","mixin","isMounted","isLoop","tags","parent","opts","trigger","on","off","one"],p=(e&&e.document||{}).documentMode|0,d=Array.isArray;n.observable=function(e){e=e||{};var t={},n=0;e.on=function(r,i){if(k(i)){if(typeof i.id===f)i._id=n++;r.replace(/\S+/g,function(e,n){(t[e]=t[e]||[]).push(i);i.typed=n>0})}return e};e.off=function(n,r){if(n=="*")t={};else{n.replace(/\S+/g,function(e){if(r){var n=t[e];for(var i=0,o;o=n&&n[i];++i){if(o._id==r._id)n.splice(i--,1)}}else{t[e]=[]}})}return e};e.one=function(t,n){function r(){e.off(t,r);n.apply(e,arguments)}return e.on(t,r)};e.trigger=function(n){var r=[].slice.call(arguments,1),i=t[n]||[];for(var o=0,u;u=i[o];++o){if(!u.busy){u.busy=1;u.apply(e,u.typed?[n].concat(r):r);if(i[o]!==u){o--}u.busy=0}}if(t.all&&n!="all"){e.trigger.apply(e,["all",n].concat(r))}return e};return e};n.mixin=function(){var e={};return function(t,n){if(!n)return e[t];e[t]=n}}();(function(e,t,n){if(!n)return;var r=n.location,i=e.observable(),o=false,u;function a(){return r.href.split("#")[1]||""}function f(e){return e.split("/")}function s(e){if(e.type)e=a();if(e!=u){i.trigger.apply(null,["H"].concat(f(e)));u=e}}var c=e.route=function(e){if(e[0]){r.hash=e;s(e)}else{i.on("H",e)}};c.exec=function(e){e.apply(null,f(a()))};c.parser=function(e){f=e};c.stop=function(){if(o){if(n.removeEventListener)n.removeEventListener(t,s,false);else n.detachEvent("on"+t,s);i.off("*");o=false}};c.start=function(){if(!o){if(n.addEventListener)n.addEventListener(t,s,false);else n.attachEvent("on"+t,s);o=true}};c.start()})(n,"hashchange",e);var m=function(e){var t,r,i,o=/[{}]/g;return function(u){var a=n.settings.brackets||e;if(t!==a){t=a;i=a.split(" ");r=i.map(function(e){return e.replace(/(?=.)/g,"\\")})}return u instanceof RegExp?a===e?u:new RegExp(u.source.replace(o,function(e){return r[~~(e==="}")]}),u.global?"g":""):i[u]}}("{ }");var g=function(){var t={},n='"in d?d:'+(e?"window).":"global)."),r=/(['"\/])(?:[^\\]*?|\\.|.)*?\1|\.\w*|\w*:|\b(?:(?:new|typeof|in|instanceof) |(?:this|true|false|null|undefined)\b|function\s*\()|([A-Za-z_$]\w*)/g;return function(e,n){return e&&(t[e]||(t[e]=i(e)))(n)};function i(e,t){if(e.indexOf(m(0))<0){e=e.replace(/\n|\r\n?/g,"\n");return function(){return e}}e=e.replace(m(/\\{/g),"ï¿").replace(m(/\\}/g),"ï¿");t=a(e,f(e,m(/{/),m(/}/)));e=t.length===2&&!t[0]?o(t[1]):"["+t.map(function(e,t){return t%2?o(e,true):'"'+e.replace(/\n|\r\n?/g,"\\n").replace(/"/g,'\\"')+'"'}).join(",")+'].join("")';return new Function("d","return "+e.replace(/\uFFF0/g,m(0)).replace(/\uFFF1/g,m(1))+";")}function o(e,t){e=e.replace(/\n|\r\n?/g," ").replace(m(/^[{ ]+|[ }]+$|\/\*.+?\*\//g),"");return/^\s*[\w- "']+ *:/.test(e)?"["+f(e,/["' ]*[\w- ]+["' ]*:/,/,(?=["' ]*[\w- ]+["' ]*:)|}|$/).map(function(e){return e.replace(/^[ "']*(.+?)[ "']*: *(.+?),? *$/,function(e,t,n){return n.replace(/[^&|=!><]+/g,u)+'?"'+t+'":"",'})}).join("")+'].join(" ").trim()':u(e,t)}function u(e,t){e=e.trim();return!e?"":"(function(v){try{v="+e.replace(r,function(e,t,r){return r?'(("'+r+n+r+")":e})+"}catch(e){}return "+(t===true?'!v&&v!==0?"":v':"v")+"}).call(d)"}function a(e,t){var n=[];t.map(function(t,r){r=e.indexOf(t);n.push(e.slice(0,r),t);e=e.slice(r+t.length)});if(e)n.push(e);return n}function f(e,t,n){var r,i=0,o=[],u=new RegExp("("+t.source+")|("+n.source+")","g");e.replace(u,function(t,n,u,a){if(!i&&n)r=a;i+=n?1:-1;if(!i&&u!=null)o.push(e.slice(r,a+u.length))});return o}}();var v=function(e){var t={tr:"tbody",th:"tr",td:"tr",tbody:"table",col:"colgroup"},n="div";e=e&&e<10;function r(r){var o=r&&r.match(/^\s*<([-\w]+)/),u=o&&o[1].toLowerCase(),a=t[u]||n,f=R(a);f.stub=true;if(e&&u&&(o=u.match(c)))i(f,r,u,!!o[1]);else f.innerHTML=r;return f}function i(e,t,r,i){var o=R(n),u=i?"select>":"table>",a;o.innerHTML="<"+u+t+"</"+u;a=o.getElementsByTagName(r)[0];if(a)e.appendChild(a)}return r}(p);function h(e){var t=m(0),n=e.trim().slice(t.length).match(/^\s*(\S+?)\s*(?:,\s*(\S+))?\s+in\s+(.+)$/);return n?{key:n[1],pos:n[2],val:t+n[3]}:{val:e}}function b(e,t,n){var r={};r[e.key]=t;if(e.pos)r[e.pos]=n;return r}function y(e,t,n){M(e,"each");var r=S(e),i=e.outerHTML,o=!!G[r],u=G[r]||{tmpl:i},a=e.parentNode,f=document.createComment("riot placeholder"),s=[],l=E(e),p;a.insertBefore(f,e);n=h(n);t.one("premount",function(){if(a.stub)a=t.root;e.parentNode.removeChild(e)}).on("update",function(){var i=g(n.val,t);if(!d(i)){p=i?JSON.stringify(i):"";i=!i?[]:Object.keys(i).map(function(e){return b(n,e,i[e])})}var m=document.createDocumentFragment(),v=s.length,h=i.length;while(v>h){s[--v].unmount();s.splice(v,1)}for(v=0;v<h;++v){var y=!p&&!!n.key?b(n,i[v],v):i[v];if(!s[v]){(s[v]=new L(u,{parent:t,isLoop:true,hasImpl:o,root:c.test(r)?a:e.cloneNode(),item:y},e.innerHTML)).mount();m.appendChild(s[v].root)}else s[v].update(y);s[v]._item=y}a.insertBefore(m,f);if(l)t.tags[r]=s}).one("updated",function(){var e=Object.keys(t);H(a,function(n){if(n.nodeType==1&&!n.isLoop&&!n._looped){n._visited=false;n._looped=true;z(n,t,e)}})})}function w(e,t,n){H(e,function(e){if(e.nodeType==1){e.isLoop=e.isLoop||(e.parentNode&&e.parentNode.isLoop||e.getAttribute("each"))?1:0;var r=E(e);if(r&&!e.isLoop){n.push(A(r,e,t))}if(!e.isLoop)z(e,t,[])}})}function x(e,t,n){function r(e,t,r){if(t.indexOf(m(0))>=0){var i={dom:e,expr:t};n.push($(i,r))}}H(e,function(e){var n=e.nodeType;if(n==3&&e.parentNode.tagName!="STYLE")r(e,e.nodeValue);if(n!=1)return;var i=e.getAttribute("each");if(i){y(e,t,i);return false}N(e.attributes,function(t){var n=t.name,i=n.split("__")[1];r(e,t.value,{attr:i||n,bool:i});if(i){M(e,n);return false}});if(E(e))return false})}function L(e,i,o){var s=n.observable(this),c=V(i.opts)||{},p=v(e.tmpl),h=i.parent,b=i.isLoop,y=i.hasImpl,L=j(i.item),_=[],T=[],M=i.root,E=e.fn,A=M.tagName.toLowerCase(),S={},H=[];if(E&&M._tag){M._tag.unmount(true)}this.isMounted=false;M.isLoop=b;M._tag=this;this._id=r++;$(this,{parent:h,root:M,opts:c,tags:{}},L);N(M.attributes,function(e){var t=e.value;if(m(/{.*}/).test(t))S[e.name]=t});if(p.innerHTML&&!/^(select|optgroup|table|tbody|tr|col(?:group)?)$/.test(A))p.innerHTML=q(p.innerHTML,o);function R(){var e=y&&b?s:h||s;N(M.attributes,function(t){c[t.name]=g(t.value,e)});N(Object.keys(S),function(t){c[t]=g(S[t],e)})}function D(e){for(var t in L){if(typeof s[t]!==f)s[t]=e[t]}}function I(){if(!s.parent||!b)return;N(Object.keys(s.parent),function(e){var t=!~l.indexOf(e)&&~H.indexOf(e);if(typeof s[e]===f||t){if(!t)H.push(e);s[e]=s.parent[e]}})}this.update=function(e){e=j(e);I();if(e&&typeof L===a){D(e);L=e}$(s,e);R();s.trigger("update",e);C(_,s);s.trigger("updated")};this.mixin=function(){N(arguments,function(e){e=typeof e===u?n.mixin(e):e;N(Object.keys(e),function(t){if(t!="init")s[t]=k(e[t])?e[t].bind(s):e[t]});if(e.init)e.init.bind(s)()})};this.mount=function(){R();if(E)E.call(s,c);x(p,s,_);z(true);if(e.attrs||y){F(e.attrs,function(e,t){M.setAttribute(e,t)});x(s.root,s,_)}if(!s.parent||b)s.update(L);s.trigger("premount");if(b&&!y){s.root=M=p.firstChild}else{while(p.firstChild)M.appendChild(p.firstChild);if(M.stub)s.root=M=h.root}if(!s.parent||s.parent.isMounted){s.isMounted=true;s.trigger("mount")}else s.parent.one("mount",function(){if(!B(s.root)){s.parent.isMounted=s.isMounted=true;s.trigger("mount")}})};this.unmount=function(e){var n=M,r=n.parentNode,i;if(r){if(h){i=O(h);if(d(i.tags[A]))N(i.tags[A],function(e,t){if(e._id==s._id)i.tags[A].splice(t,1)});else i.tags[A]=t}else while(n.firstChild)n.removeChild(n.firstChild);if(!e)r.removeChild(n);else r.removeAttribute("riot-tag")}s.trigger("unmount");z();s.off("*");M._tag=null};function z(e){N(T,function(t){t[e?"mount":"unmount"]()});if(h){var t=e?"on":"off";if(b)h[t]("unmount",s.unmount);else h[t]("update",s.update)[t]("unmount",s.unmount)}}w(p,this,T)}function _(t,n,r,i){r[t]=function(t){var o=i._item,u=i.parent,a;if(!o)while(u&&!o){o=u._item;u=u.parent}t=t||e.event;try{t.currentTarget=r;if(!t.target)t.target=t.srcElement;if(!t.which)t.which=t.charCode||t.keyCode}catch(f){}t.item=o;if(n.call(i,t)!==true&&!/radio|check/.test(r.type)){if(t.preventDefault)t.preventDefault();t.returnValue=false}if(!t.preventUpdate){a=o?O(u):i;a.update()}}}function T(e,t,n){if(e){e.insertBefore(n,t);e.removeChild(t)}}function C(e,t){N(e,function(e,n){var r=e.dom,u=e.attr,f=g(e.expr,t),s=e.dom.parentNode;if(e.bool)f=f?u:false;else if(f==null)f="";if(s&&s.tagName=="TEXTAREA")f=(""+f).replace(/riot-/g,"");if(e.value===f)return;e.value=f;if(!u){r.nodeValue=""+f;return}M(r,u);if(k(f)){_(u,f,r,t)}else if(u=="if"){var c=e.stub,l=function(){T(c.parentNode,c,r)},p=function(){T(r.parentNode,r,c)};if(f){if(c){l();r.inStub=false;if(!B(r)){H(r,function(e){if(e._tag&&!e._tag.isMounted)e._tag.isMounted=!!e._tag.trigger("mount")})}}}else{c=e.stub=c||document.createTextNode("");if(r.parentNode)p();else(t.parent||t).one("updated",p);r.inStub=true}}else if(/^(show|hide)$/.test(u)){if(u=="hide")f=!f;r.style.display=f?"":"none"}else if(u=="value"){r.value=f}else if(P(u,i)&&u!=o){if(f)r.setAttribute(u.slice(i.length),f)}else{if(e.bool){r[u]=f;if(!f)return}if(typeof f!==a)r.setAttribute(u,f)}})}function N(e,t){for(var n=0,r=(e||[]).length,i;n<r;n++){i=e[n];if(i!=null&&t(i,n)===false)n--}return e}function k(e){return typeof e===s||false}function M(e,t){e.removeAttribute(t)}function E(e){return e.tagName&&G[e.getAttribute(o)||e.tagName.toLowerCase()]}function A(e,t,n){var r=new L(e,{root:t,parent:n},t.innerHTML),i=S(t),o=O(n),u;r.parent=o;u=o.tags[i];if(u){if(!d(u))o.tags[i]=[u];if(!~o.tags[i].indexOf(r))o.tags[i].push(r)}else{o.tags[i]=r}t.innerHTML="";return r}function O(e){var t=e;while(!E(t.root)){if(!t.parent)break;t=t.parent}return t}function S(e){var t=E(e),n=e.getAttribute("name"),r=n&&n.indexOf(m(0))<0?n:t?t.name:e.tagName.toLowerCase();return r}function $(e){var t,n=arguments;for(var r=1;r<n.length;++r){if(t=n[r]){for(var i in t){e[i]=t[i]}}}return e}function j(e){if(!(e instanceof L)&&!(e&&typeof e.trigger==s))return e;var t={};for(var n in e){if(!~l.indexOf(n))t[n]=e[n]}return t}function H(e,t){if(e){if(t(e)===false)return;else{e=e.firstChild;while(e){H(e,t);e=e.nextSibling}}}}function F(e,t){var n,r=/([-\w]+) ?= ?(?:"([^"]*)|'([^']*)|({[^}]*}))/g;while(n=r.exec(e)){t(n[1].toLowerCase(),n[2]||n[3]||n[4])}}function B(e){while(e){if(e.inStub)return true;e=e.parentNode}return false}function R(e){return document.createElement(e)}function q(e,t){return e.replace(/<(yield)\/?>(<\/\1>)?/gi,t||"")}function D(e,t){return(t||document).querySelectorAll(e)}function I(e,t){return(t||document).querySelector(e)}function V(e){function t(){}t.prototype=e;return new t}function z(e,t,n){if(e._visited)return;var r,i=e.getAttribute("id")||e.getAttribute("name");if(i){if(n.indexOf(i)<0){r=t[i];if(!r)t[i]=e;else if(d(r))r.push(e);else t[i]=[r,e]}e._visited=true}}function P(e,t){return e.slice(0,t.length)===t}var X=[],G={},J;function U(e){if(n.render)return;if(!J){J=R("style");J.setAttribute("type","text/css")}var t=document.head||document.getElementsByTagName("head")[0];if(J.styleSheet)J.styleSheet.cssText+=e;else J.innerHTML+=e;if(!J._rendered)if(J.styleSheet){document.body.appendChild(J)}else{var r=I("style[type=riot]");if(r){r.parentNode.insertBefore(J,r);r.parentNode.removeChild(r)}else t.appendChild(J)}J._rendered=true}function W(e,t,n){var r=G[t],i=e._innerHTML=e._innerHTML||e.innerHTML;e.innerHTML="";if(r&&e)r=new L(r,{root:e,opts:n},i);if(r&&r.mount){r.mount();X.push(r);return r.on("unmount",function(){X.splice(X.indexOf(r),1)})}}n.tag=function(e,t,n,r,i){if(k(r)){i=r;if(/^[\w\-]+\s?=/.test(n)){r=n;n=""}else r=""}if(n){if(k(n))i=n;else U(n)}G[e]={name:e,tmpl:t,attrs:r,fn:i};return e};n.mount=function(e,t,n){var r,i,f=[];function s(e){var t="";N(e,function(e){t+=", *["+o+'="'+e.trim()+'"]'});return t}function c(){var e=Object.keys(G);return e+s(e)}function l(e){var r;if(e.tagName){if(t&&(!(r=e.getAttribute(o))||r!=t))e.setAttribute(o,t);var i=W(e,t||e.getAttribute(o)||e.tagName.toLowerCase(),n);if(i)f.push(i)}else if(e.length){N(e,l)}}if(typeof t===a){n=t;t=0}if(typeof e===u){if(e==="*")e=i=c();else e+=s(e.split(","));r=D(e)}else r=e;if(t==="*"){t=i||c();if(r.tagName)r=D(t,r);else{var p=[];N(r,function(e){p.push(D(t,e))});r=p}t=0}if(r.tagName)l(r);else N(r,l);return f};n.update=function(){return N(X,function(e){e.update()})};n.mountTo=n.mount;var Y={html:{},css:{},js:{coffee:function(e){return CoffeeScript.compile(e,{bare:true})},es6:function(e){return babel.transform(e,{blacklist:["useStrict"]}).code},none:function(e){return e}}};Y.js.javascript=Y.js.none;Y.js.coffeescript=Y.js.coffee;n.parsers=Y;var Z=("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,"+"defaultchecked,defaultmuted,defaultselected,defer,disabled,draggable,enabled,formnovalidate,hidden,"+"indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,"+"pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,spellcheck,translate,truespeed,"+"typemustmatch,visible").split(","),K="area,base,br,col,command,embed,hr,img,input,keygen,link,meta,param,source,track,wbr".split(","),Q=["style","src","d"],ee=/^<([\w\-]+)>(.*)<\/\1>/gim,te=/=({[^}]+})([\s\/\>]|$)/g,ne=/([\w\-]+)=(["'])([^\2]+?)\2/g,re=/{\s*([^}]+)\s*}/g,ie=/^<([\w\-]+)\s?([^>]*)>([^\x00]*[\w\/}"']>$)?([^\x00]*?)^<\/\1>/gim,oe=/<script(?:\s+type=['"]?([^>'"]+)['"]?)?>([^\x00]*?)<\/script>/gi,ue=/<style(?:\s+([^>]+))?>([^\x00]*?)<\/style>/gi,ae=/(^|\}|\{)\s*([^\{\}]+)\s*(?=\{)/g,fe=/<!--.*?-->/g,se=/<([\w\-]+)([^>]*)\/\s*>/g,ce=/\/\*[\s\S]*?\*\//g,le=/^\s*\/\/.*$/gm,pe=/(<input\s[^>]*?)type=['"]number['"]/gm;function de(e,t,n,r,i){return"riot.tag('"+e+"', '"+t+"'"+(n?", '"+n+"'":"")+(r?", '"+r.replace(/'/g,"\\'")+"'":"")+", function(opts) {"+i+"\n});"}function me(e,t,r){if(!e)return"";var i=n.util.brackets,o=i(0),u=i(1);e=e.replace(i(te),'="$1"$2');e=t.whitespace?e.replace(/\r\n?|\n/g,"\\n"):e.replace(/\s+/g," ");e=e.trim().replace(fe,"");e=e.replace(pe,"$1riot-type="+o+'"number"'+u);e=e.replace(ne,function(e,t,n,r){if(r.indexOf(o)>=0){t=t.toLowerCase();if(Q.indexOf(t)>=0)t="riot-"+t;else if(Z.indexOf(t)>=0)t="__"+t}return t+'="'+r+'"'});if(t.expr){e=e.replace(i(re),function(e,n){var i=he(n,t,r).trim().replace(/[\r\n]+/g,"").trim();if(i.slice(-1)==";")i=i.slice(0,-1);return o+i+u})}e=e.replace(se,function(e,t,n){var r="<"+t+(n?" "+n.trim():"")+">";if(K.indexOf(t.toLowerCase())==-1)r+="</"+t+">";return r});e=e.replace(/'/g,"\\'");e=e.replace(i(/\\{|\\}/g),"\\$&");if(t.compact)e=e.replace(/> </g,"><");return e}function ge(e){e=e.replace(le,"").replace(ce,"");var t=e.split("\n"),n="";t.forEach(function(e,r){var i=e.trim();if(i[0]!="}"&&~i.indexOf("(")){var o=i.match(/[{}]$/),u=o&&e.match(/^(\s+)([$\w]+)\s*\(([$\w,\s]*)\)\s*\{/);if(u&&!/^(if|while|switch|for|catch|function)$/.test(u[2])){t[r]=u[1]+"this."+u[2]+" = function("+u[3]+") {";if(o[0]=="}"){t[r]+=" "+i.slice(u[0].length-1,-1)+"}.bind(this)"}else{n=u[1]}}}if(e.slice(0,n.length+1)==n+"}"){t[r]=n+"}.bind(this);";n=""}});return t.join("\n")}function ve(e,t,n){return t.replace(ce,"").replace(ae,function(t,n,r){return n+" "+r.split(/\s*,\s*/g).map(function(t){var n=t.trim();var r=(/:scope/.test(n)?"":" ")+n.replace(/:scope/,"");return n[0]=="@"||n=="from"||n=="to"||/%$/.test(n)?n:e+r+', [riot-tag="'+e+'"]'+r}).join(",")}).trim()}function he(e,t,r){if(!e)return"";var i=t.parser||(r?n.parsers.js[r]:ge);if(!i)throw new Error('Parser not found "'+r+'"');return i(e.replace(/\r\n?/g,"\n"),t)}function be(e,t){var r=n.parsers.html[e];if(!r)throw new Error('Template parser not found "'+e+'"');return r(t.replace(/\r\n?/g,"\n"))}function ye(e,t,r,i){if(r==="scoped-css")i=1;else if(n.parsers.css[r])e=n.parsers.css[r](t,e);else if(r!=="css")throw new Error('CSS parser not found: "'+r+'"');if(i)e=ve(t,e);return e.replace(/\s+/g," ").replace(/\\/g,"\\\\").replace(/'/g,"\\'").trim()}function we(e,t){if(!t)t={};else{if(t.brackets)n.settings.brackets=t.brackets;if(t.template)e=be(t.template,e)}e=e.replace(ee,function(e,n,r){return de(n,me(r,t),"","","")});return e.replace(ie,function(e,n,r,i,o){var u="",a=t.type;if(i){if(!o.trim()){i=i.replace(oe,function(e,t,n){if(t)a=t.replace("text/","");o=n;return""})}i=i.replace(ue,function(e,t,r){var i=/(?:^|\s+)scoped(\s|=|$)/i.test(t),o=t&&t.match(/(?:^|\s+)type\s*=\s*['"]?([^'"\s]+)['"]?/i);if(o)o=o[1].replace("text/","");u+=(u?" ":"")+ye(r.trim(),n,o||"css",i);return""})}return de(n,me(i,t,a),u,me(r,""),he(o,t,a))})}var xe=e.document,Le,_e;function Te(e,t){var n=new XMLHttpRequest;n.onreadystatechange=function(){if(n.readyState==4&&(n.status==200||!n.status&&n.responseText.length))t(n.responseText)};n.open("GET",e,true);n.send("")}function Ce(e){var t=/[ \t]+/.exec(e);if(t)e=e.replace(new RegExp("^"+t[0],"gm"),"");return e}function Ne(e){var t=xe.createElement("script"),n=xe.documentElement;t.text=we(e);n.appendChild(t);n.removeChild(t)}function ke(e){var t=xe.querySelectorAll('script[type="riot/tag"]'),n=t.length;function r(){Le.trigger("ready");_e=true;if(e)e()}if(!n){r()}else{[].map.call(t,function(e){var t=e.getAttribute("src");function i(e){Ne(e);n--;if(!n){r()}}return t?Te(t,i):i(Ce(e.innerHTML))})}}n.compile=function(e,r){if(typeof e===u){if(e.trim()[0]=="<"){var i=Ce(we(e));if(!r)Ne(i);return i}else{return Te(e,function(e){var t=Ce(we(e));Ne(t);if(r)r(t,e)})}}if(typeof e!=="function")e=t;if(_e)return e&&e();if(Le){if(e)Le.on("ready",e)}else{Le=n.observable();ke(e)}};var Me=n.mount;n.mount=function(e,t,r){var i;n.compile(function(){i=Me(e,t,r)});return i};n.mountTo=n.mount;n.util={brackets:m,tmpl:g};if(typeof exports===a)module.exports=n;else if(typeof define==="function"&&define.amd)define(function(){return e.riot=n});else e.riot=n})(typeof window!="undefined"?window:void 0);

/* Riot v3.0.1, @license MIT */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.riot=t()}(this,function(){"use strict";function e(e){return st.test(e)}function t(e){return ct.test(e)}function r(e){return typeof e===et||!1}function n(e){return e&&typeof e===Xe}function i(e){return typeof e===Ye}function o(e){return typeof e===Je}function a(e){return i(e)||null===e||""===e}function s(e){return Array.isArray(e)||e instanceof Array}function u(e,t){var r=Object.getOwnPropertyDescriptor(e,t);return i(e[t])||r&&r.writable}function c(e){return at.test(e)}function l(e,t){return(t||document).querySelectorAll(e)}function p(e,t){return(t||document).querySelector(e)}function f(){return document.createDocumentFragment()}function h(){return document.createTextNode("")}function d(e,t){return t?document.createElementNS("http://www.w3.org/2000/svg","svg"):document.createElement(e)}function g(e){if(e.outerHTML)return e.outerHTML;var t=d("div");return t.appendChild(e.cloneNode(!0)),t.innerHTML}function m(e,t){if(i(e.innerHTML)){var r=(new DOMParser).parseFromString(t,"application/xml"),n=e.ownerDocument.importNode(r.documentElement,!0);e.appendChild(n)}else e.innerHTML=t}function v(e,t){e.removeAttribute(t)}function x(e,t){return e.getAttribute(t)}function y(e,t,r){var n=rt.exec(t);n&&n[1]?e.setAttributeNS(tt,n[1],r):e.setAttribute(t,r)}function b(e,t,r){e.insertBefore(t,r.parentNode&&r)}function w(e,t){if(e)for(var r;r=ut.exec(e);)t(r[1].toLowerCase(),r[2]||r[3]||r[4])}function C(e,t,r){if(e){var n,i=t(e,r);if(i===!1)return;for(e=e.firstChild;e;)n=e.nextSibling,C(e,t,i),e=n}}function O(e,t){for(var r,n=e?e.length:0,i=0;i<n;++i)r=e[i],t(r,i)===!1&&i--;return e}function _(e,t){return~e.indexOf(t)}function E(e){return e.replace(/-(\w)/g,function(e,t){return t.toUpperCase()})}function N(e,t){return e.slice(0,t.length)===t}function j(e,t,r,n){return Object.defineProperty(e,t,S({value:r,enumerable:!1,writable:!1,configurable:!0},n)),e}function S(e){for(var t,r=arguments,n=1;n<r.length;++n)if(t=r[n])for(var i in t)u(e,i)&&(e[i]=t[i]);return e}function T(e,t,r){var n=this._parent,i=this._item;if(!i)for(;n&&!i;)i=n._item,n=n._parent;if(u(r,"currentTarget")&&(r.currentTarget=e),u(r,"target")&&(r.target=r.srcElement),u(r,"which")&&(r.which=r.charCode||r.keyCode),r.item=i,t.call(this,r),!r.preventUpdate){var o=oe(this);o.isMounted&&o.update()}}function L(e,t,r,n){var i,o=T.bind(n,r,t);return r.addEventListener?(r[e]=null,i=e.replace(Ct,""),r._riotEvents||(r._riotEvents={}),r._riotEvents[e]&&r.removeEventListener(i,r._riotEvents[e]),r._riotEvents[e]=o,void r.addEventListener(i,o,!1)):void(r[e]=o)}function A(e,t){var r,n=yt(e.value,t);if(e.tag&&e.tagName===n)return void e.tag.update();if(e.tag){var i=e.value,o=e.tag._parent.tags;y(e.tag.root,We,n),le(o,i,e.tag)}e.impl=Ze[n],r={root:e.dom,parent:t,hasImpl:!0,tagName:n},e.tag=ie(e.impl,r,e.dom.innerHTML,t),e.tagName=n,e.tag.mount(),e.tag.update(),t.on("unmount",function(){var t=e.tag.opts.dataIs,r=e.tag.parent.tags,n=e.tag._parent.tags;le(r,t,e.tag),le(n,t,e.tag),e.tag.unmount()})}function R(e){var t,n=e.dom,o=e.attr,a=yt(e.expr,this),s="riot-value"===o,u=e.root&&"VIRTUAL"===e.root.tagName,c=n&&(e.parent||n.parentNode);if(e.bool?a=!!a&&o:(i(a)||null===a)&&(a=""),e._riot_id){if(e.isMounted)e.update();else if(e.mount(),u){var l=document.createDocumentFragment();he.call(e,l),e.root.parentElement.replaceChild(l,e.root)}}else{if(t=e.value,e.value=a,e.update)return void e.update();if(t!==a){if(e.isRtag&&a)return A(e,this);if(!s||n.value!==a){if(!o)return a+="",void(c&&(e.parent=c,"TEXTAREA"===c.tagName?(c.value=a,lt||(n.nodeValue=a)):n.nodeValue=a));if(e.isAttrRemoved&&a||(v(n,o),e.isAttrRemoved=!0),r(a))L(o,a,n,this);else if(/^(show|hide)$/.test(o))"hide"===o&&(a=!a),n.style.display=a?"":"none";else if(s)n.value=a;else if(N(o,Qe)&&o!==We)null!=a&&y(n,o.slice(Qe.length),a);else{if("selected"===o&&c&&/^(SELECT|OPTGROUP)$/.test(c.tagName)&&null!=a&&(c.value=n.value),e.bool&&(n[o]=a,!a))return;(0===a||a&&typeof a!==Xe)&&y(n,o,a)}}}}}function M(e){O(e,R.bind(this))}function I(e,t,r,n){var i=n?Object.create(n):{};return i[e.key]=t,e.pos&&(i[e.pos]=r),i}function k(e,t,r,n){for(var i,o=t.length,a=e.length;o>a;)i=t[--o],t.splice(o,1),i.unmount(),le(n.tags,r,i,!0)}function $(e){var t=this;O(Object.keys(this.tags),function(r){var n=t.tags[r];s(n)?O(n,function(t){ne.apply(t,[r,e])}):ne.apply(n,[r,e])})}function F(e,t,r){r?de.apply(this,[e,t]):b(e,this.root,t.root)}function P(e,t,r){r?he.apply(this,[e,t]):b(e,this.root,t.root)}function H(e,t){t?he.call(this,e):e.appendChild(this.root)}function B(e,t,r){v(e,"each");var n,i=typeof x(e,"no-reorder")!==Je||v(e,"no-reorder"),o=se(e),a=Ze[o]||{tmpl:g(e)},u=it.test(o),c=e.parentNode,l=h(),p=te(e),d=x(e,"if"),m=[],y=[],b=!0,w=!Ze[o],C="VIRTUAL"===e.tagName;return r=yt.loopKeys(r),r.isLoop=!0,d&&v(e,"if"),c.insertBefore(l,e),c.removeChild(e),r.update=function(){var g,v,x,E=yt(r.val,t);c=l.parentNode,g?(x=h(""),g.insertBefore(x,c),g.removeChild(c)):v=f(),s(E)?n=!1:(n=E||!1,E=n?Object.keys(E).map(function(e){return I(r,E[e],e)}):[]),d&&(E=E.filter(function(e,n){return r.key?!!yt(d,I(r,e,n,t)):!!yt(d,t)||!!yt(d,e)})),O(E,function(s,l){var f=i&&typeof s===Xe&&!n,h=y.indexOf(s),d=~h&&f?h:l,g=m[d];if(s=!n&&r.key?I(r,s,l):s,!f&&!g||f&&!~h){var x=l===m.length;g=new ee(a,{parent:t,isLoop:b,isAnonymous:w,root:u?c:e.cloneNode(),item:s},e.innerHTML),g.mount(),x?H.apply(g,[v||c,C]):P.apply(g,[c,m[l],C]),x||y.splice(l,0,s),m.splice(l,0,g),p&&ce(t.tags,o,g,!0),d=l}else g.update(s);d!==l&&f&&(_(E,y[l])&&F.apply(g,[c,m[l],C]),r.pos&&(g[r.pos]=l),m.splice(l,0,m.splice(d,1)[0]),y.splice(l,0,y.splice(d,1)[0]),!p&&g.tags&&$.call(g,l)),g._item=s,j(g,"_parent",t)}),k(E,m,o,t),y=E.slice(),v?c.insertBefore(v,l):(g.insertBefore(c,x),g.removeChild(x))},r.unmount=function(){O(m,function(e){e.unmount()})},r}function z(e,t,r){var n=this,i={parent:{children:t}};return C(e,function(t,i){var o,a,s,u=t.nodeType,c=i.parent;if(!r&&t===e)return{parent:c};if(3===u&&"STYLE"!==t.parentNode.tagName&&yt.hasExpr(t.nodeValue)&&c.children.push({dom:t,expr:t.nodeValue}),1!==u)return i;if(o=x(t,"each"))return c.children.push(B(t,n,o)),!1;if(o=x(t,"if"))return c.children.push(Object.create(Ot).init(t,n,o)),!1;if((a=x(t,We))&&yt.hasExpr(a))return c.children.push({isRtag:!0,expr:a,dom:t}),!1;if(s=te(t),s&&(t!==e||r)){var l={root:t,parent:n,hasImpl:!0};return c.children.push(ie(s,l,t.innerHTML,n)),!1}return D.apply(n,[t,t.attributes,function(e,t){t&&c.children.push(t)}]),{parent:c}},i),{tree:i,root:e}}function D(e,r,n){var i=this;O(r,function(r){var o,a=r.name,s=t(a);~["ref","data-ref"].indexOf(a)?o=Object.create(_t).init(e,a,r.value,i):yt.hasExpr(r.value)&&(o={dom:e,expr:r.value,attr:r.name,bool:s}),n(r,o)})}function U(e,t,r){var n="o"===r[0],i=n?"select>":"table>";if(e.innerHTML="<"+i+t.trim()+"</"+i,i=e.firstChild,n)i.selectedIndex=-1;else{var o=Tt[r];o&&1===i.childElementCount&&(i=p(o,i))}return i}function V(e,t){if(!Et.test(e))return e;var r={};return t=t&&t.replace(jt,function(e,t,n){return r[t]=r[t]||n,""}).trim(),e.replace(St,function(e,t,n){return r[t]||n||""}).replace(Nt,function(e,r){return t||r||""})}function q(t,r,n){var i=t&&t.match(/^\s*<([-\w]+)/),o=i&&i[1].toLowerCase(),a=d(At,n&&e(o));return t=V(t,r),Lt.test(o)?a=U(a,t,o):m(a,t),a.stub=!0,a}function G(e,t){var r=this,n=r.name,i=r.tmpl,o=r.css,a=r.attrs,s=r.onCreate;return Ze[n]||(Z(n,i,o,a,s),Ze[n].class=this.constructor),fe(e,n,t,this),o&&vt.inject(),this}function Z(e,t,n,i,o){return r(i)&&(o=i,/^[\w\-]+\s?=/.test(n)?(i=n,n=""):i=""),n&&(r(n)?o=n:vt.add(n)),e=e.toLowerCase(),Ze[e]={name:e,tmpl:t,attrs:i,fn:o},e}function K(e,t,r,n,i){r&&vt.add(r,e);var o=!!Ze[e];return Ze[e]={name:e,tmpl:t,attrs:n,fn:i},o&&Pt.hotReloader&&Pt.hotReloader(e),e}function Q(e,t,r){function i(e){if(e.tagName){var n=x(e,We);t&&n!==t&&(n=t,y(e,We,t));var o=fe(e,n||e.tagName.toLowerCase(),r);o&&a.push(o)}else e.length&&O(e,i)}var a=[];vt.inject(),n(t)&&(r=t,t=0);var s,u;if(o(e)?(e="*"===e?u=ge():e+ge(e.split(/, */)),s=e?l(e):[]):s=e,"*"===t){if(t=u||ge(),s.tagName)s=l(t,s);else{var c=[];O(s,function(e){return c.push(l(t,e))}),s=c}t=0}return i(s),a}function W(e,t,o){if(n(e))return void W("__unnamed_"+It++,e,!0);var a=o?Mt:Rt;if(!t){if(i(a[e]))throw new Error("Unregistered mixin: "+e);return a[e]}a[e]=r(t)?S(t.prototype,a[e]||{})&&t:S(a[e]||{},t)}function J(){return O(Ge,function(e){return e.update()})}function X(e){delete Ze[e]}function Y(e,t,r,n,i){if(!e||!r){var o=!r&&e?this:t||this;O(i,function(e){e.expr&&M.call(o,[e.expr]),n[E(e.name)]=e.expr?e.expr.value:e.value})}}function ee(e,t,n){var i,a=S({},t.opts),s=t.parent,u=t.isLoop,c=t.isAnonymous,l=ue(t.item),p=[],f=[],h=[],d=t.root,g=t.tagName||se(d),m="virtual"===g,x=[];wt(this),e.name&&d._tag&&d._tag.unmount(!0),this.isMounted=!1,d.isLoop=u,j(this,"_internal",{isAnonymous:c,instAttrs:p,innerHTML:n,virts:[],tail:null,head:null}),j(this,"_riot_id",++kt),S(this,{parent:s,root:d,opts:a},l),j(this,"tags",{}),j(this,"refs",{}),i=q(e.tmpl,n,u),j(this,"update",function(e){return r(this.shouldUpdate)&&!this.shouldUpdate(e)?this:(e=ue(e),u&&c&&re.apply(this,[this.parent,x]),S(this,e),Y.apply(this,[u,s,c,a,p]),this.isMounted&&this.trigger("update",e),M.call(this,h),this.isMounted&&this.trigger("updated"),this)}.bind(this)),j(this,"mixin",function(){var e=this;return O(arguments,function(t){var n,i,a=[];t=o(t)?W(t):t,n=r(t)?new t:t;var s=Object.getPrototypeOf(n);do a=a.concat(Object.getOwnPropertyNames(i||n));while(i=Object.getPrototypeOf(i||n));O(a,function(t){if("init"!==t){var i=Object.getOwnPropertyDescriptor(n,t)||Object.getOwnPropertyDescriptor(s,t),o=i&&(i.get||i.set);!e.hasOwnProperty(t)&&o?Object.defineProperty(e,t,i):e[t]=r(n[t])?n[t].bind(e):n[t]}}),n.init&&n.init.bind(e)()}),this}.bind(this)),j(this,"mount",function(){var t=this;d._tag=this,D.apply(s,[d,d.attributes,function(e,r){!c&&_t.isPrototypeOf(r)&&(r.tag=t),e.expr=r,p.push(e)}]),f=[],w(e.attrs,function(e,t){f.push({name:e,value:t})}),D.apply(this,[d,f,function(e,t){t?h.push(t):y(d,e.name,e.value)}]),this._parent&&c&&re.apply(this,[this._parent,x]),Y.apply(this,[u,s,c,a,p]);var r=W(Ke);if(r)for(var n in r)r.hasOwnProperty(n)&&t.mixin(r[n]);if(e.fn&&e.fn.call(this,a),this.trigger("before-mount"),z.apply(this,[i,h,!1]),this.update(l),u&&c)this.root=d=i.firstChild;else{for(;i.firstChild;)d.appendChild(i.firstChild);d.stub&&(d=s.root)}return j(this,"root",d),this.isMounted=!0,!this.parent||this.parent.isMounted?this.trigger("mount"):this.parent.one("mount",function(){t.trigger("mount")}),this}.bind(this)),j(this,"unmount",function(e){var t,r=this,n=this.root,i=n.parentNode,o=Ge.indexOf(this);if(this.trigger("before-unmount"),~o&&Ge.splice(o,1),i){if(s)t=oe(s),m?Object.keys(this.tags).forEach(function(e){le(t.tags,e,r.tags[e])}):le(t.tags,g,this);else for(;n.firstChild;)n.removeChild(n.firstChild);e?v(i,We):i.removeChild(n)}return this._internal.virts&&O(this._internal.virts,function(e){e.parentNode&&e.parentNode.removeChild(e)}),ae(h),O(p,function(e){return e.expr&&e.expr.unmount&&e.expr.unmount()}),this.trigger("unmount"),this.off("*"),this.isMounted=!1,delete this.root._tag,this}.bind(this))}function te(e){return e.tagName&&Ze[x(e,We)||x(e,We)||e.tagName.toLowerCase()]}function re(e,t){var r=this;O(Object.keys(e),function(n){var o=!c(n)&&_(t,n);(i(r[n])||o)&&(o||t.push(n),r[n]=e[n])})}function ne(e,t){var r,n=this.parent;n&&(r=n.tags[e],s(r)?r.splice(t,0,r.splice(r.indexOf(this),1)[0]):ce(n.tags,e,this))}function ie(e,t,r,n){var i=new ee(e,t,r),o=t.tagName||se(t.root,!0),a=oe(n);return i.parent=a,i._parent=n,ce(a.tags,o,i),a!==n&&ce(n.tags,o,i),t.root.innerHTML="",i}function oe(e){for(var t=e;t._internal.isAnonymous&&t.parent;)t=t.parent;return t}function ae(e){O(e,function(e){e instanceof ee?e.unmount(!0):e.unmount&&e.unmount()})}function se(e,t){var r=te(e),n=!t&&x(e,We);return n&&!yt.hasExpr(n)?n:r?r.name:e.tagName.toLowerCase()}function ue(e){if(!(e instanceof ee||e&&typeof e.trigger===et))return e;var t={};for(var r in e)at.test(r)||(t[r]=e[r]);return t}function ce(e,t,r,n){var i=e[t],o=s(i);i&&i===r||(!i&&n?e[t]=[r]:i?(!o||o&&!_(i,r))&&(o?i.push(r):e[t]=[i,r]):e[t]=r)}function le(e,t,r,n){s(e[t])?(O(e[t],function(n,i){n===r&&e[t].splice(i,1)}),e[t].length?1!==e[t].length||n||(e[t]=e[t][0]):delete e[t]):delete e[t]}function pe(e){for(;e;){if(e.inStub)return!0;e=e.parentNode}return!1}function fe(e,t,r,n){var i=Ze[t],o=Ze[t].class,a=n||(o?Object.create(o.prototype):{}),s=e._innerHTML=e._innerHTML||e.innerHTML;e.innerHTML="";var u={root:e,opts:r};return r&&r.parent&&(u.parent=r.parent),i&&e&&ee.apply(a,[i,u,s]),a&&a.mount&&(a.mount(!0),_(Ge,a)||Ge.push(a)),a}function he(e,t){var r,n,i=this,o=h(),a=h(),s=f();for(this._internal.head=this.root.insertBefore(o,this.root.firstChild),this._internal.tail=this.root.appendChild(a),n=this._internal.head;n;)r=n.nextSibling,s.appendChild(n),i._internal.virts.push(n),n=r;t?e.insertBefore(s,t._internal.head):e.appendChild(s)}function de(e,t){for(var r,n=this,i=this._internal.head,o=f();i;)if(r=i.nextSibling,o.appendChild(i),i=r,i===n._internal.tail){o.appendChild(i),e.insertBefore(o,t._internal.head);break}}function ge(e){if(!e){var t=Object.keys(Ze);return t+ge(t)}return e.filter(function(e){return!/[^-\w]/.test(e)}).reduce(function(e,t){var r=t.trim().toLowerCase();return e+",["+We+'="'+r+'"]'},"")}function me(e){var t=arguments,r=e.source,n=e.global?"g":"";e.ignoreCase&&(n+="i"),e.multiline&&(n+="m");for(var i=1;i<arguments.length;i++)r=r.replace("@","\\"+t[i]);return new RegExp(r,n)}function ve(e){var t,r=qt;for(~e.indexOf("\r")&&(e=e.replace(/\r\n?/g,"\n")),r.lastIndex=0;t=r.exec(e);)"<"===t[0][0]&&(e=RegExp.leftContext+RegExp.rightContext,r.lastIndex=t[3]+1);return e}function xe(e,t){var r,n,i,o=[];for(Vt.lastIndex=0,e=e.replace(/\s+/g," ");r=Vt.exec(e);){var a=r[1].toLowerCase(),s=r[2];s?(s[0]!==ir&&(s=ir+(s[0]===or?s.slice(1,-1):s)+ir),"type"===a&&Jt.test(s)?n=s:(er.test(s)&&("value"===a&&(i=1),~Kt.indexOf(a)&&(a="riot-"+a)),o.push(a+"="+s))):o.push(a)}return n&&(i&&(n=ir+t._bp[0]+or+n.slice(1,-1)+or+t._bp[1]+ir),o.push("type="+n)),o.join(" ")}function ye(e,t,r){var n=r._bp;if(e&&n[4].test(e)){for(var i,o=t.expr&&(t.parser||t.type)?_e:0,a=xt.split(e,0,n),s=1;s<a.length;s+=2)i=a[s],"^"===i[0]?i=i.slice(1):o&&(i=o(i,t).trim(),";"===i.slice(-1)&&(i=i.slice(0,-1))),a[s]=rr+(r.push(i)-1)+n[1];e=a.join("")}return e}function be(e,t){return t.length&&(e=e.replace(tr,function(e,r){return t._bp[0]+t[r].trim().replace(/[\r\n]+/g," ").replace(/"/g,nr)})),e}function we(e,t,r){if(!/\S/.test(e))return"";if(e=ye(e,t,r).replace(Gt,function(e,t,n,i){return t=t.toLowerCase(),i=i&&!Qt.test(t)?"></"+t:"",n&&(t+=" "+xe(n,r)),"<"+t+i+">"}),!t.whitespace){var n=[];/<pre[\s>]/.test(e)&&(e=e.replace(Wt,function(e){return n.push(e),""})),e=e.trim().replace(/\s+/g," "),n.length&&(e=e.replace(/\u0002/g,function(){return n.shift()}))}return t.compact&&(e=e.replace(Zt,"><$1")),be(e,r).replace(Yt,"")}function Ce(e,t,r){return Array.isArray(t)?(r=t,t={}):(r||(r=[]),t||(t={})),r._bp=xt.array(t.brackets),we(ve(e),t,r)}function Oe(e){function t(e,t,r){for(t.lastIndex=0;r=t.exec(e);)"/"!==r[0][0]||r[1]||r[2]||(e=u.leftContext+" "+u.rightContext,t.lastIndex=r[3]+1);return e}function r(e,t){var r,n=1;for(t.lastIndex=0;n&&(r=t.exec(e));)"{"===r[0]?++n:"}"===r[0]&&--n;return n?e.length:t.lastIndex}var n,i,o,a,s=[],u=RegExp;for(~e.indexOf("/")&&(e=t(e,ur));n=e.match(ar);)s.push(u.leftContext),e=u.rightContext,o=r(e,sr),a=n[1],i=!/^(?:if|while|for|switch|catch|function)$/.test(a),a=i?n[0].replace(a,"this."+a+" = function"):n[0],s.push(a,e.slice(0,o)),e=e.slice(o),i&&!/^\s*.\s*bind\b/.test(e)&&s.push(".bind(this)");return s.length?s.join("")+e:e}function _e(e,t,r,n,i){if(!/\S/.test(e))return"";r||(r=t.type);var o=t.parser||r&&Bt._req("js."+r,!0)||Oe;return o(e,n,i).replace(/\r\n?/g,"\n").replace(Yt,"")}function Ee(e,t,r,n){return"string"==typeof t&&(n=r,r=t,t={}),r&&"object"==typeof r&&(n=r,r=""),n||(n={}),_e(e,t||{},r,n.parserOptions,n.url)}function Ne(e,t){var r=":scope";return t.replace(cr,function(t,n,i){return i?(i=i.replace(/[^,]+/g,function(t){var n=t.trim();return 0===n.indexOf(e)?t:n&&"from"!==n&&"to"!==n&&"%"!==n.slice(-1)?n=n.indexOf(r)<0?e+" "+n+',[data-is="'+e+'"] '+n:n.replace(r,e)+","+n.replace(r,'[data-is="'+e+'"]'):t}),n?n+" "+i:i):t})}function je(e,t,r,n){if(n=n||{},r&&"css"!==r){var i=Bt._req("css."+r,!0);e=i(t,e,n.parserOpts||{},n.url)}return e=e.replace(xt.R_MLCOMMS,"").replace(/\s+/g," ").trim(),t&&(e=Ne(t,e)),e}function Se(e,t,r){return t&&"object"==typeof t?(r=t,t=""):r||(r={}),je(e,r.tagName,t,r)}function Te(e,t){return e?(e=or+e.replace(/\\/g,"\\\\").replace(/'/g,"\\'")+or,t&&~e.indexOf("\n")?e.replace(/\n/g,"\\n"):e):"''"}function Le(e,t,r,n,i,o,a){var s=a.debug?",\n  ":", ",u="});";return i&&"\n"!==i.slice(-1)&&(u="\n"+u),o+"riot.tag2('"+e+or+s+Te(t,1)+s+Te(r)+s+Te(n)+", function(opts) {\n"+i+u}function Ae(e){if(/<[-\w]/.test(e))for(var t,r=e.lastIndexOf("<"),n=e.length;~r;){if(t=e.slice(r,n).match(fr))return r+=t.index+t[0].length,t=e.slice(0,r),"<-/>\n"===t.slice(-5)&&(t=t.slice(0,-5)),[t,e.slice(r)];n=r,r=e.lastIndexOf("<",r-1)}return["",e]}function Re(e){if(e){var t=e.match(lr);if(t=t&&(t[2]||t[3]))return t.replace("text/","")}return""}function Me(e,t){if(e){var r=e.match(RegExp("\\s"+t+pr,"i"));if(r=r&&r[1])return/^['"]/.test(r)?r.slice(1,-1):r}return""}function Ie(e){return e.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#039;/g,"'")}function ke(e){var t=Ie(Me(e,"options"));return t?JSON.parse(t):null}function $e(e,t,r,n){var i=Re(r),o=Me(r,"src"),a=zt({},t.parserOptions.js);return!o&&_e(e,t,i,zt(a,ke(r)),n)}function Fe(e,t,r,n,i){var o=zt({},t.parserOptions.style),a={parserOpts:zt(o,ke(r)),url:n};return je(e,i,Re(r)||t.style,a)}function Pe(e,t,r,n){var i=Bt._req("html."+r,!0);return i(e,n,t)}function He(e,t,r){var n,i=[],o={template:{},js:{},style:{}};t||(t={}),t.parserOptions=zt(o,t.parserOptions||{}),n=t.exclude?function(e){return t.exclude.indexOf(e)<0}:function(){return 1},r||(r="");var a=xt.array(t.brackets);return t.template&&(e=Pe(e,r,t.template,t.parserOptions.template)),e=ve(e).replace(hr,function(e,o,s,u,c,l){var p="",f="",h="",d="",g=[];if(g._bp=a,s=s.toLowerCase(),u=u&&n("attribs")?be(xe(ye(u,t,g),g),g):"",(c||(c=l))&&/\S/.test(c))if(l)n("html")&&(h=we(l,t,g));else{c=c.replace(RegExp("^"+o,"gm"),""),c=c.replace(gr,function(e,i,o){return n("css")&&(f+=(f?" ":"")+Fe(o,t,i,r,s)),""}),c=c.replace(dr,function(e,i,o){if(n("js")){var a=$e(o,t,i,r);a&&(p+=(p?"\n":"")+a)}return""});var m=Ae(c.replace(Yt,""));n("html")&&(h=we(m[0],t,g)),n("js")&&(c=_e(m[1],t,null,null,r),c&&(p+=(p?"\n":"")+c),p=p.replace(Xt,function(e){return d+=e.trim()+"\n",""}))}return p=/\S/.test(p)?p.replace(/\n{3,}/g,"\n\n"):"",t.entities?(i.push({tagName:s,html:h,css:f,attribs:u,js:p,imports:d}),""):Le(s,h,f,u,p,d,t)}),t.entities?i:e}function Be(e,t,r){var n=new XMLHttpRequest;n.onreadystatechange=function(){4===n.readyState&&(200===n.status||!n.status&&n.responseText.length)&&t(n.responseText,r,e)},n.open("GET",e,!0),n.send("")}function ze(e,t){if(typeof e===Je){var r=d("script"),n=document.documentElement;t&&(e+="\n//# sourceURL="+t+".js"),r.text=e,n.appendChild(r),n.removeChild(r)}}function De(e,t){function r(){gt.trigger("ready"),mt=!0,e&&e()}function n(e,t,n){var i=vr.compile(e,t,n);ze(i,n),--o||r()}var i=l('script[type="riot/tag"]'),o=i.length;if(o)for(var a=0;a<i.length;++a){var s=i[a],u=S({template:x(s,"template")},t),c=x(s,"src");c?Be(c,n,u):n(s.innerHTML,u)}else r()}function Ue(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r;return yr(function(){r=Q.apply(Ht,e)}),r}var Ve,qe,Ge=[],Ze={},Ke="__global_mixin",Qe="riot-",We="data-is",Je="string",Xe="object",Ye="undefined",et="function",tt="http://www.w3.org/1999/xlink",rt=/^xlink:(\w+)/,nt=typeof window===Ye?void 0:window,it=/^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?|opt(?:ion|group))$/,ot=/^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?)$/,at=/^(?:_(?:item|id|parent)|update|root|(?:un)?mount|mixin|is(?:Mounted|Loop)|tags|refs|parent|opts|trigger|o(?:n|ff|ne))$/,st=/^(altGlyph|animate(?:Color)?|circle|clipPath|defs|ellipse|fe(?:Blend|ColorMatrix|ComponentTransfer|Composite|ConvolveMatrix|DiffuseLighting|DisplacementMap|Flood|GaussianBlur|Image|Merge|Morphology|Offset|SpecularLighting|Tile|Turbulence)|filter|font|foreignObject|g(?:lyph)?(?:Ref)?|image|line(?:arGradient)?|ma(?:rker|sk)|missing-glyph|path|pattern|poly(?:gon|line)|radialGradient|rect|stop|svg|switch|symbol|text(?:Path)?|tref|tspan|use)$/,ut=/([-\w]+) ?= ?(?:"([^"]*)|'([^']*)|({[^}]*}))/g,ct=/^(?:disabled|checked|readonly|required|allowfullscreen|auto(?:focus|play)|compact|controls|default|formnovalidate|hidden|ismap|itemscope|loop|multiple|muted|no(?:resize|shade|validate|wrap)?|open|reversed|seamless|selected|sortable|truespeed|typemustmatch)$/,lt=0|(nt&&nt.document||{}).documentMode,pt=Object.freeze({isSVGTag:e,isBoolAttr:t,isFunction:r,isObject:n,isUndefined:i,isString:o,isBlank:a,isArray:s,isWritable:u,isReservedName:c}),ft=Object.freeze({$$:l,$:p,createFrag:f,createDOMPlaceholder:h,mkEl:d,getOuterHTML:g,setInnerHTML:m,remAttr:v,getAttr:x,setAttr:y,safeInsert:b,walkAttrs:w,walkNodes:C}),ht={},dt=[];nt&&(Ve=function(){var e=d("style");y(e,"type","text/css");var t=p("style[type=riot]");return t?(t.id&&(e.id=t.id),t.parentNode.replaceChild(e,t)):document.getElementsByTagName("head")[0].appendChild(e),e}(),qe=Ve.styleSheet);var gt,mt,vt={styleNode:Ve,add:function(e,t){t?ht[t]=e:dt.push(e)},inject:function(){if(nt){var e=Object.keys(ht).map(function(e){return ht[e]}).concat(dt).join("\n");qe?qe.cssText=e:Ve.innerHTML=e}}},xt=function(e){function t(e){return e}function r(e,t){return t||(t=y),new RegExp(e.source.replace(/{/g,t[2]).replace(/}/g,t[3]),e.global?c:"")}function n(e){if(e===m)return v;var t=e.split(" ");if(2!==t.length||h.test(e))throw new Error('Unsupported brackets "'+e+'"');return t=t.concat(e.replace(d,"\\").split(" ")),t[4]=r(t[1].length>1?/{[\S\s]*?}/:v[4],t),t[5]=r(e.length>3?/\\({|})/g:v[5],t),t[6]=r(v[6],t),t[7]=RegExp("\\\\("+t[3]+")|([[({])|("+t[3]+")|"+f,c),t[8]=e,t}function i(e){return e instanceof RegExp?s(e):y[e]}function o(e){(e||(e=m))!==y[8]&&(y=n(e),s=e===m?t:r,y[9]=s(v[9])),x=e}function a(e){var t;e=e||{},t=e.brackets,Object.defineProperty(e,"brackets",{set:o,get:function(){return x},enumerable:!0}),u=e,o(t)}var s,u,c="g",l=/\/\*[^*]*\*+(?:[^*\/][^*]*\*+)*\//g,p=/"[^"\\]*(?:\\[\S\s][^"\\]*)*"|'[^'\\]*(?:\\[\S\s][^'\\]*)*'/g,f=p.source+"|"+/(?:\breturn\s+|(?:[$\w\)\]]|\+\+|--)\s*(\/)(?![*\/]))/.source+"|"+/\/(?=[^*\/])[^[\/\\]*(?:(?:\[(?:\\.|[^\]\\]*)*\]|\\.)[^[\/\\]*)*?(\/)[gim]*/.source,h=RegExp("[\\x00-\\x1F<>a-zA-Z0-9'\",;\\\\]"),d=/(?=[[\]()*+?.^$|])/g,g={"(":RegExp("([()])|"+f,c),"[":RegExp("([[\\]])|"+f,c),"{":RegExp("([{}])|"+f,c)},m="{ }",v=["{","}","{","}",/{[^}]*}/,/\\([{}])/g,/\\({)|{/g,RegExp("\\\\(})|([[({])|(})|"+f,c),m,/^\s*{\^?\s*([$\w]+)(?:\s*,\s*(\S+))?\s+in\s+(\S.*)\s*}/,/(^|[^\\]){=[\S\s]*?}/],x=e,y=[];return i.split=function(e,t,r){function n(e){t||a?c.push(e&&e.replace(r[5],"$1")):c.push(e)}function i(e,t,r){var n,i=g[t];for(i.lastIndex=r,r=1;(n=i.exec(e))&&(!n[1]||(n[1]===t?++r:--r)););return r?e.length:i.lastIndex}r||(r=y);var o,a,s,u,c=[],l=r[6];for(a=s=l.lastIndex=0;o=l.exec(e);){if(u=o.index,a){if(o[2]){l.lastIndex=i(e,o[2],l.lastIndex);continue}if(!o[3])continue}o[1]||(n(e.slice(s,u)),s=l.lastIndex,l=r[6+(a^=1)],l.lastIndex=s)}return e&&s<e.length&&n(e.slice(s)),c},i.hasExpr=function(e){return y[4].test(e)},i.loopKeys=function(e){var t=e.match(y[9]);return t?{key:t[1],pos:t[2],val:y[0]+t[3].trim()+y[1]}:{val:e.trim()}},i.array=function(e){return e?n(e):y},Object.defineProperty(i,"settings",{set:a,get:function(){return u}}),i.settings="undefined"!=typeof riot&&riot.settings||{},i.set=o,i.R_STRINGS=p,i.R_MLCOMMS=l,i.S_QBLOCKS=f,i}(),yt=function(){function e(e,n){return e?(a[e]||(a[e]=r(e))).call(n,t):e}function t(t,r){t.riotData={tagName:r&&r.root&&r.root.tagName,_riot_id:r&&r._riot_id},e.errorHandler&&e.errorHandler(t),"undefined"!=typeof console&&"function"==typeof console.error&&(t.riotData.tagName&&console.error("Riot template error thrown in the <%s> tag",t.riotData.tagName),console.error(t))}function r(e){var t=n(e);return"try{return "!==t.slice(0,11)&&(t="return "+t),new Function("E",t+";")}function n(e){var t,r=[],n=xt.split(e.replace(l,'"'),1);if(n.length>2||n[0]){var o,a,s=[];for(o=a=0;o<n.length;++o)t=n[o],t&&(t=1&o?i(t,1,r):'"'+t.replace(/\\/g,"\\\\").replace(/\r\n?|\n/g,"\\n").replace(/"/g,'\\"')+'"')&&(s[a++]=t);t=a<2?s[0]:"["+s.join(",")+'].join("")'}else t=i(n[1],0,r);return r[0]&&(t=t.replace(p,function(e,t){return r[t].replace(/\r/g,"\\r").replace(/\n/g,"\\n")})),t}function i(e,t,r){function n(t,r){var n,i=1,o=f[t];for(o.lastIndex=r.lastIndex;n=o.exec(e);)if(n[0]===t)++i;else if(!--i)break;r.lastIndex=i?e.length:o.lastIndex}if(e=e.replace(c,function(e,t){return e.length>2&&!t?s+(r.push(e)-1)+"~":e}).replace(/\s+/g," ").trim().replace(/\ ?([[\({},?\.:])\ ?/g,"$1")){for(var i,a=[],l=0;e&&(i=e.match(u))&&!i.index;){var p,h,d=/,|([[{(])|$/g;for(e=RegExp.rightContext,p=i[2]?r[i[2]].slice(1,-1).trim().replace(/\s+/g," "):i[1];h=(i=d.exec(e))[1];)n(h,d);h=e.slice(0,i.index),e=RegExp.rightContext,a[l++]=o(h,1,p)}e=l?l>1?"["+a.join(",")+'].join(" ").trim()':a[0]:o(e,t)}return e}function o(e,t,r){var n;return e=e.replace(d,function(e,t,r,i,o){return r&&(i=n?0:i+e.length,"this"!==r&&"global"!==r&&"window"!==r?(e=t+'("'+r+h+r,i&&(n="."===(o=o[i])||"("===o||"["===o)):i&&(n=!g.test(o.slice(i)))),e}),n&&(e="try{return "+e+"}catch(e){E(e,this)}"),r?e=(n?"function(){"+e+"}.call(this)":"("+e+")")+'?"'+r+'":""':t&&(e="function(v){"+(n?e.replace("return ","v="):"v=("+e+")")+';return v||v===0?v:""}.call(this)'),e}var a={};e.hasExpr=xt.hasExpr,e.loopKeys=xt.loopKeys,e.clearCache=function(){a={}},e.errorHandler=null;var s=String.fromCharCode(8279),u=/^(?:(-?[_A-Za-z\xA0-\xFF][-\w\xA0-\xFF]*)|\u2057(\d+)~):/,c=RegExp(xt.S_QBLOCKS,"g"),l=/\u2057/g,p=/\u2057(\d+)~/g,f={"(":/[()]/g,"[":/[[\]]/g,"{":/[{}]/g},h='"in this?this:'+("object"!=typeof window?"global":"window")+").",d=/[,{][\$\w]+(?=:)|(^ *|[^$\w\.{])(?!(?:typeof|true|false|null|undefined|in|instanceof|is(?:Finite|NaN)|void|NaN|new|Date|RegExp|Math)(?![$\w]))([$_A-Za-z][$\w]*)/g,g=/^(?=(\.[$\w]+))\1(?:[^.[(]|$)/;return e.version=xt.version="v3.0.0",e}(),bt=Object.freeze({each:O,contains:_,toCamel:E,startsWith:N,defineProperty:j,extend:S}),wt=function(e){e=e||{};var t={},r=Array.prototype.slice;return Object.defineProperties(e,{on:{value:function(r,n){return"function"==typeof n&&(t[r]=t[r]||[]).push(n),e},enumerable:!1,writable:!1,configurable:!1},off:{value:function(r,n){if("*"!=r||n)if(n)for(var i,o=t[r],a=0;i=o&&o[a];++a)i==n&&o.splice(a--,1);else delete t[r];else t={};return e},enumerable:!1,writable:!1,configurable:!1},one:{value:function(t,r){function n(){e.off(t,n),r.apply(e,arguments)}return e.on(t,n)},enumerable:!1,writable:!1,configurable:!1},trigger:{value:function(n){var i,o,a,s=arguments,u=arguments.length-1,c=new Array(u);for(a=0;a<u;a++)c[a]=s[a+1];for(i=r.call(t[n]||[],0),a=0;o=i[a];++a)o.apply(e,c);return t["*"]&&"*"!=n&&e.trigger.apply(e,["*",n].concat(c)),e},enumerable:!1,writable:!1,configurable:!1}}),e},Ct=/^on/,Ot={init:function(e,t,r){v(e,"if"),this.parentTag=t,this.expr=r,this.stub=document.createTextNode(""),this.pristine=e;var n=e.parentNode;return n.insertBefore(this.stub,e),n.removeChild(e),this},update:function(){var e=yt(this.expr,this.parentTag);e&&!this.current?(this.current=this.pristine.cloneNode(!0),this.stub.parentNode.insertBefore(this.current,this.stub),this.expressions=[],z.apply(this.parentTag,[this.current,this.expressions,!0])):!e&&this.current&&(ae(this.expressions),this.current._tag?this.current._tag.unmount():this.current.parentNode&&this.current.parentNode.removeChild(this.current),this.current=null,this.expressions=[]),e&&M.call(this.parentTag,this.expressions)},unmount:function(){ae(this.expressions||[]),delete this.pristine,delete this.parentNode,delete this.stub}},_t={init:function(e,t,r,n){return this.dom=e,this.attr=t,this.rawValue=r,this.parent=n,this.hasExp=yt.hasExpr(r),this.firstRun=!0,this},update:function(){var e=this.rawValue;if(this.hasExp&&(e=yt(this.rawValue,this.parent)),this.firstRun||e!==this.value){var t=this.parent&&oe(this.parent),r=this.tag||this.dom;!a(this.value)&&t&&le(t.refs,this.value,r),a(e)?v(this.dom,this.attr):(t&&ce(t.refs,e,r),y(this.dom,this.attr,e)),this.value=e,this.firstRun=!1}},unmount:function(){var e=this.tag||this.dom,t=this.parent&&oe(this.parent);!a(this.value)&&t&&le(t.refs,this.value,e),delete this.dom,delete this.parent}},Et=/<yield\b/i,Nt=/<yield\s*(?:\/>|>([\S\s]*?)<\/yield\s*>|>)/gi,jt=/<yield\s+to=['"]([^'">]*)['"]\s*>([\S\s]*?)<\/yield\s*>/gi,St=/<yield\s+from=['"]?([-\w]+)['"]?\s*(?:\/>|>([\S\s]*?)<\/yield\s*>)/gi,Tt={tr:"tbody",th:"tr",td:"tr",col:"colgroup"},Lt=lt&&lt<10?it:ot,At="div",Rt={},Mt=Rt[Ke]={},It=0,kt=0,$t=Object.freeze({getTag:te,inheritFrom:re,moveChildTag:ne,initChildTag:ie,getImmediateCustomParentTag:oe,unmountAll:ae,getTagName:se,cleanUpData:ue,arrayishAdd:ce,arrayishRemove:le,isInStub:pe,mountTo:fe,makeVirtual:he,moveVirtual:de,selectTags:ge}),Ft=Object.create(xt.settings),Pt={tmpl:yt,brackets:xt,styleManager:vt,vdom:Ge,styleNode:vt.styleNode,dom:ft,check:pt,misc:bt,tags:$t},Ht=Object.freeze({settings:Ft,util:Pt,observable:wt,Tag:G,tag:Z,tag2:K,mount:Q,mixin:W,update:J,unregister:X}),Bt=function(e){function t(t){var r=e[t];if(r)return r;throw new Error('Parser "'+t+'" not loaded.')}function r(e){var t=e.split(".");if(2!==t.length)throw new Error("Bad format for parsers._req");var r=o[t[0]][t[1]];if(r)return r;throw new Error('Parser "'+e+'" not found.')}function n(e,t){if(t)for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e}function i(e,r,i,o){return i=n({pretty:!0,filename:o,doctype:"html"},i),t(e).render(r,i)}var o={};return o.html={jade:function(e,t,r){return console.log('DEPRECATION WARNING: jade was renamed "pug" - The jade parser will be removed in riot@3.0.0!'),i("jade",e,t,r)},pug:function(e,t,r){return i("pug",e,t,r)}},o.css={less:function(e,r,i,o){var a;return i=n({sync:!0,syncImport:!0,filename:o},i),t("less").render(r,i,function(e,t){if(e)throw e;a=t.css}),a}},o.js={es6:function(e,r,i){return t("babel").transform(e,n({filename:i},r)).code},buble:function(e,r,i){return r=n({source:i,modules:!1},r),t("buble").transform(e,r).code},coffee:function(e,r){return t("CoffeeScript").compile(e,n({bare:!0},r))},livescript:function(e,r){return t("livescript").compile(e,n({bare:!0,header:!1},r))},typescript:function(e,r){return t("typescript")(e,r)},none:function(e){return e}},o.js.javascript=o.js.none,o.js.coffeescript=o.js.coffee,o._req=r,o.utils={extend:n},o}(window||global),zt=Bt.utils.extend,Dt=/"[^"\n\\]*(?:\\[\S\s][^"\n\\]*)*"|'[^'\n\\]*(?:\\[\S\s][^'\n\\]*)*'/.source,Ut=xt.R_STRINGS.source,Vt=/ *([-\w:\xA0-\xFF]+) ?(?:= ?('[^']*'|"[^"]*"|\S+))?/g,qt=RegExp(/<!--(?!>)[\S\s]*?-->/.source+"|"+Dt,"g"),Gt=/<(-?[A-Za-z][-\w\xA0-\xFF]*)(?:\s+([^"'\/>]*(?:(?:"[^"]*"|'[^']*'|\/[^>])[^'"\/>]*)*)|\s*)(\/?)>/g,Zt=/>[ \t]+<(-?[A-Za-z]|\/[-A-Za-z])/g,Kt=["style","src","d","value"],Qt=/^(?:input|img|br|wbr|hr|area|base|col|embed|keygen|link|meta|param|source|track)$/,Wt=/<pre(?:\s+(?:[^">]*|"[^"]*")*)?>([\S\s]+?)<\/pre\s*>/gi,Jt=/^"(?:number|date(?:time)?|time|month|email|color)\b/i,Xt=/^\s*import(?:(?:\s|[^\s'"])*)['|"].*\n?/gm,Yt=/[ \t]+$/gm,er=me(/@#\d/,"x01"),tr=me(/@#(\d+)/g,"x01"),rr="#",nr="⁗",ir='"',or="'",ar=/^[ \t]*([$_A-Za-z][$\w]*)\s*\([^()]*\)\s*{/m,sr=RegExp("[{}]|"+xt.S_QBLOCKS,"g"),ur=RegExp(xt.R_MLCOMMS.source+"|//[^\r\n]*|"+xt.S_QBLOCKS,"g"),cr=RegExp("([{}]|^)[ ;]*([^@ ;{}][^{}]*)(?={)|"+Dt,"g"),lr=/\stype\s*=\s*(?:(['"])(.+?)\1|(\S+))/i,pr="\\s*=\\s*("+Ut+"|{[^}]+}|\\S+)",fr=/\/>\n|^<(?:\/?-?[A-Za-z][-\w\xA0-\xFF]*\s*|-?[A-Za-z][-\w\xA0-\xFF]*\s+[-\w:\xA0-\xFF][\S\s]*?)>\n/,hr=RegExp(/^([ \t]*)<(-?[A-Za-z][-\w\xA0-\xFF]*)(?:\s+([^'"\/>]+(?:(?:@|\/[^>])[^'"\/>]*)*)|\s*)?(?:\/>|>[ \t]*\n?([\S\s]*)^\1<\/\2\s*>|>(.*)<\/\2\s*>)/.source.replace("@",Ut),"gim"),dr=/<script(\s+[^>]*)?>\n?([\S\s]*?)<\/script\s*>/gi,gr=/<style(\s+[^>]*)?>\n?([\S\s]*?)<\/style\s*>/gi,mr="v3.0.0",vr={compile:He,compileHTML:Ce,compileCSS:Se,compileJS:Ee,parsers:Bt,version:mr},xr=vr.parsers,yr=function(e,t,i){if(typeof e===Je){if(n(t)&&(i=t,t=!1),/^\s*</m.test(e)){var o=vr.compile(e,i);return t!==!0&&ze(o),r(t)&&t(o,e,i),o}Be(e,function(e,r,n){var i=vr.compile(e,r,n);ze(i,n),t&&t(i,e,r)},i)}else if(s(e)){var a=e.length;e.forEach(function(e){Be(e,function(e,r,n){var i=vr.compile(e,r,n);ze(i,n),a--,!a&&t&&t(i,e,r)},i)})}else{if(r(e)?(i=t,t=e):(i=e,t=void 0),mt)return t&&t();gt?t&&gt.on("ready",t):(gt=wt(),De(t,i))}},br=S({},Ht,{mount:Ue,compile:yr,parsers:xr});return br});
